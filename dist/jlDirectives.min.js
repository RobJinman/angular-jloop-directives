angular.module("jlDirectives",["jlUtil","jlScroll"]).directive("jlOffsetY",["$log","util","jlWindow","scroll",function(a,b,c,d){function e(e,f,g){var h=b.element(f),i=g.jlOffsetType,j=g.jlOffsetY,k=c,l="true"==g.jlOffsetElementIsOutermostScrollArea;if("relative"!=i&&"inside"!=i&&(a.error("Expected one of 'inside' or 'relative' in jlOffsetType. Defaulting to 'inside'"),i="inside"),g.jlOffsetElement&&"window"!=g.jlOffsetElement){var m=b.element(g.jlOffsetElement);0===m.length?a.warn("No element matching selector '"+g.jlOffsetElement+"'"):k=m}var n=function(){switch(i){case"relative":b.setRelativeY(h,k,j);break;case"inside":b.setYWithinParent(h,k,j)}};g.$observe("jlOffsetY",function(a){j=a,n()}),g.$observe("jlOffsetType",function(a){i=a;var b=h.css("left");switch(i){case"relative":(l||"window"===g.jlOffsetElement)&&h.css("position","fixed");break;case"inside":h.css("position","absolute")}h.css("left",b),n()}),n(),d.addCallback(k,"jlOffsetY",n),e.$on("$destroy",function(){d.removeCallback(k,"jlOffsetY")})}return{restrict:"A",link:e}}]);